# =============================================
# namgun-workspace — Environment Variables
# =============================================
# Copy to .env and fill in values:
#   cp .env.example .env
# =============================================

# ─── 서비스 활성화 (쉼표 구분) ───
# 풀스택:              nginx,stalwart,gitea,livekit
# 외부 프록시+메일+Git: livekit
# 최소 (코어만):       (비워두기)
COMPOSE_PROFILES=nginx,stalwart,gitea,livekit

# ─── 포트 ───
BACKEND_PORT=8000
FRONTEND_PORT=3000

# ─── 스토리지 볼륨 ───
# Docker named volume 또는 NFS 등 미리 생성한 볼륨명
STORAGE_VOLUME=storage-data

# ─── App ───
APP_NAME=Workspace
APP_URL=https://your-domain.com
DOMAIN=your-domain.com
DEBUG=false
SECRET_KEY=CHANGE_ME_TO_RANDOM_SECRET

# ─── PostgreSQL (shared: workspace + gitea + stalwart) ───
DB_USER=workspace
DB_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
DATABASE_URL=postgresql+asyncpg://workspace:CHANGE_ME_TO_STRONG_PASSWORD@postgres:5432/workspace

# ─── Mail Server ───
# 자체 메일서버 사용 여부 (false = IMAP/SMTP 클라이언트 모드만)
FEATURE_BUILTIN_MAILSERVER=false
# Dovecot master user (빌트인 메일서버 SSO용)
DOVECOT_MASTER_USER=portal
DOVECOT_MASTER_PASSWORD=CHANGE_ME
# Stalwart (레거시, 외부 Stalwart 사용 시)
STALWART_URL=http://stalwart:8080
STALWART_ADMIN_USER=admin
STALWART_ADMIN_PASSWORD=CHANGE_ME

# ─── SMTP (noreply sender) ───
SMTP_HOST=stalwart
SMTP_PORT=587
SMTP_USER=noreply@your-domain.com
SMTP_PASSWORD=CHANGE_ME
SMTP_FROM=noreply@your-domain.com

# ─── Admin ───
ADMIN_EMAILS=admin@your-domain.com

# ─── Gitea ───
GITEA_URL=http://gitea:3000
GITEA_TOKEN=

# ─── OAuth Provider (Gitea SSO) ───
OAUTH_CLIENTS_JSON={}

# ─── LiveKit ───
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=secret
LIVEKIT_URL=http://livekit:7880

# ─── Git SSH ───
GIT_SSH_PORT=2222
