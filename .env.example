# =============================================
# namgun-workspace — Environment Variables
# =============================================
# Copy to .env and fill in values:
#   cp .env.example .env
# Or use setup.sh for interactive configuration:
#   sudo bash setup.sh
# =============================================

# ─── Deploy Mode ───
# external_proxy — HTTP :80, SSL handled by external reverse proxy
# standalone     — HTTPS :80+:443, Let's Encrypt auto-certificate
# dev            — HTTP :80, no SSL
DEPLOY_MODE=external_proxy

# ─── 서비스 활성화 (쉼표 구분) ───
# 사용 가능: mailserver, gitea, livekit, certbot
# 풀스택 (standalone):  certbot,mailserver,gitea,livekit
# 풀스택 (ext. proxy):  mailserver,gitea,livekit
# 최소 (코어만):        (비워두기)
COMPOSE_PROFILES=mailserver,gitea,livekit

# ─── 스토리지 볼륨 ───
STORAGE_VOLUME=ws-storage-data

# ─── App ───
APP_NAME=Workspace
APP_URL=https://your-domain.com
DOMAIN=your-domain.com
DEBUG=false
SECRET_KEY=CHANGE_ME_TO_RANDOM_SECRET

# ─── Branding ───
BRAND_LOGO=
BRAND_COLOR=#3B82F6

# ─── PostgreSQL ───
DB_USER=workspace
DB_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
DATABASE_URL=postgresql+asyncpg://workspace:CHANGE_ME_TO_STRONG_PASSWORD@postgres:5432/workspace

# ─── Mail Server ───
FEATURE_BUILTIN_MAILSERVER=false
DOVECOT_MASTER_USER=portal
DOVECOT_MASTER_PASSWORD=CHANGE_ME

# ─── SMTP (noreply sender) ───
SMTP_HOST=mailserver
SMTP_PORT=587
SMTP_USER=noreply@your-domain.com
SMTP_PASSWORD=CHANGE_ME
SMTP_FROM=noreply@your-domain.com

# ─── Admin ───
ADMIN_EMAILS=admin@your-domain.com

# ─── Gitea ───
GITEA_URL=http://gitea:3000
GITEA_EXTERNAL_URL=https://your-domain.com/git/
GITEA_TOKEN=

# ─── OAuth Provider (Gitea SSO) ───
OAUTH_CLIENTS_JSON={}

# ─── LiveKit ───
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=secret
LIVEKIT_URL=http://livekit:7880

# ─── 초기 관리자 (setup.sh 자동 설정, 시드 완료 후 삭제 권장) ───
ADMIN_USERNAME=
ADMIN_PASSWORD=

# ─── Git SSH ───
GIT_SSH_PORT=2222

# ─── Let's Encrypt ───
LETSENCRYPT_EMAIL=admin@your-domain.com
